//===-- driver-template.cpp -----------------------------------------------===//
//
// Part of the LLVM Project, under the Apache License v2.0 with LLVM Exceptions.
// See https://llvm.org/LICENSE.txt for license information.
// SPDX-License-Identifier: Apache-2.0 WITH LLVM-exception
//
//===----------------------------------------------------------------------===//

#include "llvm/ADT/ArrayRef.h"
#include "llvm/Support/InitLLVM.h"
#include "llvm/Support/LLVMDriver.h"

using namespace llvm;

int @TOOL_NAME@_main(int Argc, char **, const ToolContext &);

static ArrayRef<std::pair<StringRef, ToolContext::MainFn>> knownMainFns() {
  static constexpr std::pair<StringRef, ToolContext::MainFn> MainFns[] = {
    "@TOOL_NAME@", @TOOL_NAME@_main
  };
  return MainFns;
}

int main(int Argc, char **Argv) {
  InitLLVM X(Argc, Argv);
  ToolContext TC{Argv[0], "@TOOL_NAME@", /*NeedsPrependArg=*/false,
                 /*Cleanup=*/false, knownMainFns};
  return @TOOL_NAME@_main(argc, argv, TC);
}
